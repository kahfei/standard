<%= form_for(@bearing) do |f| %>
  <% if @bearing.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(@bearing.errors.count, "error") %> prohibited this bearing from being saved:</h2>

      <ul>
      <% @bearing.errors.full_messages.each do |msg| %>
        <li><%= msg %></li>
      <% end %>
      </ul>
    </div>
  <% end %>

  <div class="field">
    <%= f.label :partnumber %><br />
    <%= f.text_field :partnumber %>
  </div>
  <div class="field">
    <%= f.label :description %><br />
    <%= f.text_field :description %>
  </div>
  <div class="field">
    <%= f.label :i_dia %><b> (You need to use a dot, for example: 0.53)</b><br />
    <%= f.text_field :i_dia %>
  </div>
  <div class="field">
    <%= f.label :o_dia %><b> (You need to use a dot, for example: 0.53)</b><br />
    <%= f.text_field :o_dia %>
  </div>
  <div class="field">
    <%= f.label :width %><b> (You need to use a dot, for example: 0.53)</b><br />
    <%= f.text_field :width %>
  </div>
  <div class="field">
    <%= f.label :bearing_type %><br />
    <%= f.text_field :bearing_type %>
  </div>
  <div class="field">
    <%= f.label :bearing_no %><br />
    <%= f.text_field :bearing_no %>
  </div>
  <div class="field">
    <%= f.label :radial_clearance_um %><br />
    <%= f.text_field :radial_clearance_um %>
  </div>
  <div class="field">
    <%= f.label :sealing %><br />
    <%= f.text_field :sealing %>
  </div>
  <div class="field">
    <%= f.label :max_speed_rpm %><br />
    <%= f.text_field :max_speed_rpm %>
  </div>
  <div class="field">
    <%= f.label :position_within_product %><br />
    <%= f.text_field :position_within_product %>
  </div>
  <div class="field">
    <%= f.label :drawing_norm %><br />
    <%= f.text_field :drawing_norm %>
  </div>
  <div class="field">
    <%= f.label :where_used_product %><br />
    <%= f.text_field :where_used_product %>
  </div>
  <div class="field">
    <%= f.label :where_used_plant %><br />
    <%= f.text_field :where_used_plant %>
  </div>
  <div class="field">
    <%= f.label :supplier %><br />
    <%= f.text_field :supplier %>
  </div>
  <div class="field">
    <%= f.label :remark %><br />
    <%= f.text_field :remark %>
  </div>
  <div class="field">
    <%= f.label :reason_for_submission? %><br />
    <%= f.text_field :reason %>
  </div>   
  <br />
  
  <% if session[:user_role] == "Normal" && @bearing.uploader_name == nil || session[:user_role] == "Sectionhead" && @bearing.uploader_name == nil %>
      <div class="field">
        <%= f.label :release_status %><br />
        <%= f.text_field :release_status, :value => "pending", :readonly => true %>
      </div>
  <% end %>
    
  <% if @bearing.uploader_name != session[:user_name] && session[:user_role] != "Superadmin" %>
    <div class="actions">
      <%= f.submit 'Submit Bearing', :name => 'submit' %>
    </div>
  <% end %>

  <% if @bearing.uploader_name == session[:user_name] || session[:user_role] == "Superadmin" %>
    <div class="actions">
      <%= f.submit 'Update Bearing', :name => 'create' %>
    </div>
  <% end %>
<% end %>